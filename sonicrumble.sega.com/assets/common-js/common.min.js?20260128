function include_lang(){const e=document.documentElement.lang.toLowerCase().replace("-cmn","").replace("-hans","-cn"),t=document.querySelector("#language-btn"),n=document.querySelector("#language-select"),o=document.querySelector(`#language-select-${e} a`),r=o.textContent;t.textContent=r,o.classList.add("current"),document.addEventListener("click",(e=>{n.classList.contains("on")?e.target.closest("#language-select")||n.classList.remove("on"):e.target.closest("#language-btn")&&n.classList.add("on")}));const c=document.querySelectorAll("#language li a"),s=document.querySelector("body.rules"),l=document.querySelector("body.inputCode"),d=document.querySelector("body.special");if(s||l)c.forEach((e=>{const t=document.querySelector('[rel="canonical"]').getAttribute("href").replace(/https:\/\/sonicrumble.sega.com\/(.*?)\/.*/g,"$1"),n=e.closest("li").id.replace("language-select-","");e.setAttribute("href",`/${t}/${n}/`)})),include_rules_lang();else if(d){const e=document.querySelector('[rel="canonical"]').getAttribute("href").replace(/https:\/\/sonicrumble.sega.com\/(.*?)\/(.*?)\/.*/g,"$1/$2");c.forEach((t=>{const n=t.closest("li").id.replace("language-select-","");t.setAttribute("href",`/${e}/${n}/`)})),include_special_lang()}else{["th"].forEach((e=>{document.querySelector(`#language-select-${e}`).remove()})),c.forEach((e=>{const t=e.closest("li").id.replace("language-select-","");e.setAttribute("href",`/${t}/`)}))}}function include_menu(){const e=document.querySelector("#menuBtn"),t=document.querySelector("#menuClose"),n=document.querySelector("#menuCloseBg"),o=document.querySelector("#menuInc");e.addEventListener("click",(()=>{o.classList.add("on"),o.classList.remove("off")})),t.addEventListener("click",(()=>{o.classList.remove("on"),o.classList.add("off")})),n.addEventListener("click",(()=>{o.classList.remove("on"),o.classList.add("off")}));const r=document.querySelector(".io-menu").clientHeight,c=document.querySelector(".topicpath");c&&o?window.addEventListener("scroll",(()=>{const e=document.documentElement.scrollTop,t=c.clientHeight;e>r+t?o.classList.add("fix"):o.classList.remove("fix")})):window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>r?o.classList.add("fix"):o.classList.remove("fix")}))}function include_pagetop(){window.addEventListener("scroll",(()=>{const e=document.documentElement.scrollTop,t=window.outerHeight/2,n=document.querySelector("#pagetop");e>t?n.classList.add("on"):n.classList.remove("on")})),$("#pagetop a").on("click",(function(){return $("body,html").animate({scrollTop:0},800,"easeOutQuint"),!1}))}function include_banner(){const e=document.querySelector("#footer-banner"),t=document.querySelectorAll("#footer-banner .swiper-slide").length;function n(){new Swiper("#footer-banner .swiper",{loop:!0,slidesPerView:"auto",centeredSlides:!0,centeredSlidesBounds:!0,speed:400,loopAdditionalSlides:3,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}3===t?(e.classList.add("slideOff3"),n()):2===t?(e.classList.add("slideOff2"),n()):1===t?e.classList.add("slideOff1"):0===t?e.classList.add("slideOff0"):n()}function include_appFix(){const e=document.querySelector(".appFix"),t=document.body.offsetHeight;window.innerHeight>t-document.querySelector(".appFix").offsetHeight?e.classList.add("on"):window.addEventListener("scroll",(()=>{const t=document.documentElement.scrollTop,n=document.body.offsetHeight,o=window.innerHeight;2*o<n?t>o/2?e.classList.add("on"):e.classList.remove("on"):t>50?e.classList.add("on"):e.classList.remove("on")})),-1!=navigator.userAgent.indexOf("iPhone")||-1!=navigator.userAgent.indexOf("iPad")?document.querySelector(".appFix .app-android").classList.add("app-hidden"):document.querySelector(".appFix .app-ios").classList.add("app-hidden")}window.addEventListener("DOMContentLoaded",(()=>{const e=document.documentElement.lang.toLowerCase().replace("-cmn","").replace("-hans","-cn");fetch(`/${e}/include.html?260128`).then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html"),n=document.getElementById("menuInc");if(n){n.insertAdjacentHTML("beforeend",'<nav id="menu"><h1>MENU</h1></nav>');const e=document.getElementById("menu"),o=t.getElementById("menu-list").outerHTML,r=t.getElementById("menu-link").outerHTML,c=t.getElementById("menu-btn").outerHTML,s=t.querySelector(".sns").outerHTML;e.insertAdjacentHTML("beforeend",o),e.insertAdjacentHTML("beforeend",c),e.insertAdjacentHTML("beforeend",s),e.insertAdjacentHTML("beforeend",r),e.insertAdjacentHTML("beforeend",'<div id="menuClose"></div>'),n.insertAdjacentHTML("afterend",'<div id="menuBtn">MENU</div><div id="menuCloseBg"></div>'),include_menu()}const o=t.getElementById("pagetop").outerHTML,r=t.getElementById("footer-link").outerHTML,c=t.getElementById("footer-other").outerHTML,s=t.getElementById("attention").outerHTML,l=t.getElementById("snsArea").outerHTML,d=document.getElementById("mainarea"),a=document.getElementById("footerInc");d.insertAdjacentHTML("beforeend",o),a.insertAdjacentHTML("beforeend",l),a.insertAdjacentHTML("beforeend",r),a.insertAdjacentHTML("beforeend",c),a.insertAdjacentHTML("beforeend",s),include_pagetop();if(document.querySelector("body.official")){const e=document.querySelector("#pagetop"),n=t.getElementById("footer-banner").outerHTML;e.insertAdjacentHTML("afterend",n),include_banner()}if(!document.querySelector("body.noAppFix")){const e=t.querySelector(".follow-btn");if(e){const n=t.querySelector("#footer-app");e.querySelector("h2").insertAdjacentHTML("afterend",n.outerHTML),e.querySelector("ul").removeAttribute("id"),e.querySelectorAll("li").forEach((e=>{const t=e.getAttribute("id").replace("footer-","");e.removeAttribute("id"),e.classList.add(t)}));const o=e.outerHTML;a.insertAdjacentHTML("beforeend",`<div class="appFix">${o}</div>`),include_appFix()}}if(!document.querySelector("body.errors")){fetch("/assets/include.html?241205").then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html").getElementById("language").outerHTML;document.getElementById("footer-other").insertAdjacentHTML("afterend",t),include_lang()}))}}));if(document.querySelector("#toolbarAnalyticsHead")){document.querySelector("#newsletterInc").innerHTML='<div id="universalToolbar" data-ratede="false"></div><div id="universalNewsletter" data-game_title="soa_web_sonicrumble_optin" data-mature="true" class="universalNewsletter__show"></div>';const e=document.createElement("script");e.src="https://www.atlus.com/ztoolbar/shared.bundle.js",document.body.appendChild(e);const t=document.createElement("script");t.src="https://www.atlus.com/ztoolbar/toolbar.bundle.js",document.body.appendChild(t);const n=document.createElement("script");n.src="https://www.atlus.com/ztoolbar/newsletter.bundle.js",document.body.appendChild(n);const o=document.createElement("script");o.src="https://www.atlus.com/ztoolbar/runtime.bundle.js",document.body.appendChild(o);const r=document.createElement("link");r.href="https://www.atlus.com/ztoolbar/newsletter.css",r.rel="stylesheet",document.head.appendChild(r),window.addEventListener("load",(()=>{document.querySelector("#universalNewsletter").remove(),document.querySelector(".open_newsletter").href="https://sega-account.com/site/verification",document.querySelector(".open_newsletter").setAttribute("target","_blank"),document.querySelector(".newsletterText").textContent="SEGA Account"}))}else{const e=document.querySelector("#newsletterInc"),t=document.querySelector("#toolbarAnalyticsBody");e&&alert("error - #newsletterInc"),t&&alert("error - #toolbarAnalyticsBody")}}));