window.addEventListener("DOMContentLoaded",(()=>{const e=window.location.pathname.split("/").length-2;let t="";for(let n=0;n<e;n++)t+="../";t+="SonicRacingCrossWorlds/special/onsoku-project/include.html",fetch(t).then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html"),n=t.getElementById("header").outerHTML,o=t.getElementById("gnav").outerHTML,s=t.getElementById("footer").outerHTML,r=t.getElementById("artnav"),l=document.getElementById("headInc"),a=document.getElementById("gnavInc"),c=document.getElementById("footerInc"),i=document.getElementById("artnavInc");l.innerHTML=n,a.innerHTML=o,c.innerHTML=s,i&&r&&(i.innerHTML=r.outerHTML);const d=document.getElementById("gnavbtn"),u=document.getElementById("gnavwrapper"),m=document.querySelectorAll(".gnavlink a");if(d.addEventListener("click",(()=>{const e=d.classList.toggle("on");if(u.classList.toggle("on",e),d.setAttribute("aria-expanded",e),e){const e=u.querySelector("a, button, select");e&&e.focus(),function(e){const t=e.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])'),n=t[0],o=t[t.length-1];e.addEventListener("keydown",(e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(e.preventDefault(),o.focus()):document.activeElement===o&&(e.preventDefault(),n.focus()))}))}(u)}})),m.forEach((e=>{e.addEventListener("click",(t=>{e.closest("li").classList.contains("home")||(d.classList.remove("on"),u.classList.remove("on"),d.setAttribute("aria-expanded","false"))}))})),lngselect.addEventListener("change",(()=>{location.href=lngselect.value})),d){const e=document.createElement("div");e.style.position="absolute",e.style.top="0",e.style.width="1px",e.style.height="1px",d.parentNode.insertBefore(e,d);new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?d.classList.remove("fix"):d.classList.add("fix")}))}),{root:null,threshold:0}).observe(e)}}));const n=document.querySelectorAll(".anime"),o=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("start"),t.unobserve(e.target))}))}),{root:null,rootMargin:"-30% 0px",threshold:0});n.forEach((e=>o.observe(e)))}));