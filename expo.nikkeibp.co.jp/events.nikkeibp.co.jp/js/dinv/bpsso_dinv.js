var bpsso={c0:[{ts1:"dinv_onl_2022",ts2:"dinv_onl_2022",cn:"",liSize:{w:700,h:600},loSize:{w:700,h:600},rgSize:{w:700,h:600},wdSize:{w:700,h:600},cpSize:{w:700,h:600},nl_jsp:"/err/l1/dinv_onl_2022/"},{ts1:"dinv_tky_2022",ts2:"dinv_tky_2022",cn:"",liSize:{w:700,h:600},loSize:{w:700,h:600},rgSize:{w:700,h:600},wdSize:{w:700,h:600},cpSize:{w:700,h:600},nl_jsp:"/err/l1/dinv_tky_2022/"},{ts1:"dinv_kan_2022",ts2:"dinv_kan_2022",cn:"",liSize:{w:700,h:600},loSize:{w:700,h:600},rgSize:{w:700,h:600},wdSize:{w:700,h:600},cpSize:{w:700,h:600},nl_jsp:"/err/l1/dinv_kan_2022/"},{ts1:"dinv_ngy_2022",ts2:"dinv_ngy_2022",cn:"",liSize:{w:700,h:600},loSize:{w:700,h:600},rgSize:{w:700,h:600},wdSize:{w:700,h:600},cpSize:{w:700,h:600},nl_jsp:"/err/l1/dinv_ngy_2022/"},{ts1:"dinv_kys_2022",ts2:"dinv_kys_2022",cn:"",liSize:{w:700,h:600},loSize:{w:700,h:600},rgSize:{w:700,h:600},wdSize:{w:700,h:600},cpSize:{w:700,h:600},nl_jsp:"/err/l1/dinv_kys_2022/"},{ts1:"dinv_sap_2022",ts2:"dinv_sap_2022",cn:"",liSize:{w:700,h:600},loSize:{w:700,h:600},rgSize:{w:700,h:600},wdSize:{w:700,h:600},cpSize:{w:700,h:600},nl_jsp:"/err/l1/dinv_sap_2022/"},{}],c:{},v:{win:null,tid:null},getopt:function(c,a){var b,d;if(c.indexOf("#")>=0){c=c.substring(0,c.indexOf("#"))}if(c=c.split("?")[1]){d=new Array();d=c.split("&");for(b=0;b<d.length;b++){if(d[b].substring(0,a.length+1).toLowerCase()==(a.toLowerCase()+"=")){return(d[b].substring(a.length+1))}}}return("")},throwCookies:function(a){var b=new Date();b.setTime(b.getTime()-1);document.cookie=a+"=; path=/; secure; expires="+b.toGMTString();document.cookie=a+"=; path=/; secure; expires="+b.toGMTString();document.cookie=a+"=;path=/; secure; expires="+b.toGMTString()},throwSiteCookies:function(){var a,b;b=document.cookie.split(/; ?/);for(a=0;a<b.length;a++){if(b[a].match(new RegExp("^("+bpsso.c.cn+".+)=.+"))){bpsso.throwCookies(RegExp.$1)}}bpsso.throwCookies("ALDONE");bpsso.throwCookies("AnnexDirect");bpsso.throwCookies("_session_id")},domainPrefix:function(){return(location.hostname.match(/^t-/)?"t-":"")},liMov:function(a){bpsso.changeProfile(a);bpsso.moveWin("login",bpsso.c.ts1,"m",bpsso.getReturnUrl());return(false)},loMov:function(a){bpsso.changeProfile(a);bpsso.moveWin("logout","sso_cmn","m",bpsso.getReturnUrl());return(false)},rgMov:function(a){bpsso.changeProfile(a);bpsso.moveWin("add",bpsso.c.ts2,"m",bpsso.getReturnUrl());bpsso.throwSiteCookies();return(false)},wdPup:function(a){bpsso.changeProfile(a);bpsso.openWin("withdraw",bpsso.c.ts2,"p",bpsso.c.wdSize);return(false)},wdMov:function(a){bpsso.changeProfile(a);bpsso.moveWin("withdraw",bpsso.c.ts2,"m",bpsso.getReturnUrl());return(false)},moveWin:function(a,i,e,b){var g=i?("&ts="+i):"";var f=bpsso.domainPrefix();var h=(a=="logout")?"&sc=true":"";bpsso.throwSiteCookies();var c="https://"+f+(location.hostname.match(/\.com$/)?"bpsso.nikkei.com":"bpsso.nikkeibp.co.jp");var d=encodeURIComponent("https://"+f+"bpsso.nikkeibp.co.jp/ep/cookie/?ru="+b);location.href=c+"/ep/"+a+"/prev/?ts="+i+"&ru="+d+h},openWin:function(f,c,b,a){var d=c?("&ts="+c):"";bpsso.throwSiteCookies();if(bpsso.v.win&&!bpsso.v.win.closed){bpsso.v.win.close()}clearInterval(bpsso.v.tid);var e="https://"+pf+(location.hostname.match(/\.com$/)?"bpsso.nikkei.com":"bpsso.nikkeibp.co.jp");bpsso.v.win=window.open(e+"/ep/"+f+"/prev/?ts="+c,"","width="+a.w.toString()+",height="+a.h.toString()+",scrollbars=yes,resizable=yes");bpsso.v.tid=setInterval(bpsso.winChecker,1000);return(false)},getReturnUrl:function(){var b,a;b=location.href;if(b.indexOf(bpsso.c.nl_jsp)>=0){b=decodeURIComponent(bpsso.getopt(b,"URL"));if(b.match(/["'<>]/)){b=location.protocol+"//"+location.host+"/"}else{if(!b.match(/^https?:\/\//i)){b=location.protocol+"//"+location.host+b}else{if(!b.match(/^https?:\/\/[^\/]+\.nikkeibp\.co\.jp\//i)){b=location.protocol+"//"+location.host+"/"}}}}if(document.querySelector(".loginBoxColumnLogin a[data-ru]")){a=document.querySelector(".loginBoxColumnLogin a[data-ru]").getAttribute("data-ru");if(a!=""){if(a.match(/^\/.*/i)){b=location.protocol+"//"+location.host+a}else{b=a}}}return(encodeURIComponent(b))},winChecker:function(){if(bpsso.v.win.closed){clearInterval(bpsso.v.tid);window.location.reload()}},changeProfile:function(c){var b,a;a=c?c:0;for(b in bpsso.c0[a]){bpsso.c[b]=bpsso.c0[a][b]}},addOnunload:function(b){var a;a=window.onunload;if(typeof window.addEventListener=="function"){window.addEventListener("unload",b,false);return(true)}else{if(typeof window.attachEvent=="object"){window.attachEvent("onunload",b);return(true)}}if(typeof window.onunload!="function"){window.onunload=b}else{window.onunload=function(){a();b()}}},outPage:function(){if(bpsso.v.win&&!bpsso.v.win.closed){bpsso.v.win.close()}},init:function(){bpsso.c0.pop();bpsso.changeProfile();bpsso.addOnunload(bpsso.outPage)}};bpsso.init();