jQuery(function(){function h(){var i=jQuery(document).width(),t,u,r;n==="desktop-lg"?(t=Math.round(i/2*.56),u=Math.round(t/2-10),r=Math.round((i/3-20)*.56)):n==="desktop-sm"?(t=Math.round(i*.66666667*.56),u=Math.round(t/2-10),r=Math.round(i/2*.56)):n==="tablet"?(t=Math.round(i*.56),r=Math.round(i/2*.56),jQuery(".vid-thumb-side, .vid-side-list ul li").height(r)):n==="phone"&&(t=Math.round(i*.56),jQuery(".vid-thumb-side, .vid-side-list ul li").height(t)),jQuery(".vid-thumb-lg").height(t),jQuery(".vid-thumb-sm").height(u),jQuery(".vid-thumb-md").height(r),jQuery(".vid-thumb-lg-r").css("marginTop","-"+(u+10)+"px")}function o(){k&&jQuery.ajax({type:"POST",url:"/CEA_CMS_Items/Handlers/UStudio/VideoFeeds.ashx",data:{pageNum:i,numVids:s,searchTerm:w,cat:jQuery(".dk-selected").text(),destinationURL:nt},dataType:"json",success:function(t){var u,r,i,e;if(t)if(u=t,u.length>0){for(jQuery("#vid-error, #no-vids").hide(),r=0;r<u.length;r++)i=u[r],e='<div class="vid-thumb"><a href="'+k+"?vID="+i.uid+"&dID="+g+"&sID="+i.studio_uid+'" class="vid-img" style="background-image:url('+i.image_url+');"><div class="vid-caption"><span>'+i.title+'</span><div class="vid-play"></div></div></a></div>',jQuery(".vid-list").append(e),n==="desktop-lg"?l():n==="desktop-sm"?a():n==="tablet"?v():n==="phone"&&p();h()}else jQuery(".vid-thumb").length<=0&&jQuery("#no-vids").show();else jQuery("#vid-error").show();jQuery("#vid-loading").hide(),f=!1},error:function(){jQuery("#vid-error").show(),jQuery("#no-vids").hide(),jQuery("#vid-loading").hide(),f=!1}})}function l(){jQuery(".vid-thumb:nth-child(16n+1)").addClass("vid-thumb-lg").addClass("vid-thumb-lg-l"),jQuery(".vid-thumb:nth-child(16n+13)").addClass("vid-thumb-lg").addClass("vid-thumb-lg-r"),jQuery(".vid-thumb:nth-child(8n+6)").addClass("vid-thumb-md").addClass("vid-thumb-md-l"),jQuery(".vid-thumb:nth-child(8n+7)").addClass("vid-thumb-md").addClass("vid-thumb-md-m"),jQuery(".vid-thumb:nth-child(8n+8)").addClass("vid-thumb-md").addClass("vid-thumb-md-r"),jQuery(".vid-thumb:nth-child(16n+2), .vid-thumb:nth-child(16n+3), .vid-thumb:nth-child(16n+4), .vid-thumb:nth-child(16n+5)").addClass("vid-thumb-sm").addClass("vid-thumb-sm-r"),jQuery(".vid-thumb:nth-child(16n+9), .vid-thumb:nth-child(16n+10), .vid-thumb:nth-child(16n+11), .vid-thumb:nth-child(16n+12)").addClass("vid-thumb-sm").addClass("vid-thumb-sm-l"),jQuery(".vid-thumb:nth-child(16n+11)").addClass("vid-thumb-clear")}function a(){jQuery(".vid-thumb:nth-child(10n+1)").addClass("vid-thumb-lg").addClass("vid-thumb-lg-l"),jQuery(".vid-thumb:nth-child(10n+8)").addClass("vid-thumb-lg").addClass("vid-thumb-lg-r"),jQuery(".vid-thumb:nth-child(5n+4)").addClass("vid-thumb-md").addClass("vid-thumb-md-l"),jQuery(".vid-thumb:nth-child(5n)").addClass("vid-thumb-md").addClass("vid-thumb-md-r"),jQuery(".vid-thumb:nth-child(10n+2), .vid-thumb:nth-child(10n+3)").addClass("vid-thumb-sm").addClass("vid-thumb-sm-r"),jQuery(".vid-thumb:nth-child(10n+6), .vid-thumb:nth-child(10n+7)").addClass("vid-thumb-sm").addClass("vid-thumb-sm-l"),jQuery(".vid-thumb:nth-child(10n+7)").addClass("vid-thumb-clear")}function v(){jQuery(".vid-thumb:nth-child(3n+1)").addClass("vid-thumb-lg"),jQuery(".vid-thumb:nth-child(3n+2)").addClass("vid-thumb-md").addClass("vid-thumb-md-l"),jQuery(".vid-thumb:nth-child(3n+3)").addClass("vid-thumb-md").addClass("vid-thumb-md-r")}function p(){jQuery(".vid-thumb").addClass("vid-thumb-lg")}function t(){jQuery(".vid-thumb-lg").removeClass("vid-thumb-lg").css("marginTop","0px"),jQuery(".vid-thumb-lg-l").removeClass("vid-thumb-lg-l").css("marginTop","0px"),jQuery(".vid-thumb-lg-r").removeClass("vid-thumb-lg-r").css("marginTop","0px"),jQuery(".vid-thumb-md").removeClass("vid-thumb-md").css("marginTop","0px"),jQuery(".vid-thumb-md-l").removeClass("vid-thumb-md-l").css("marginTop","0px"),jQuery(".vid-thumb-md-r").removeClass("vid-thumb-md-r").css("marginTop","0px"),jQuery(".vid-thumb-md-m").removeClass("vid-thumb-md-m").css("marginTop","0px"),jQuery(".vid-thumb-sm").removeClass("vid-thumb-sm").css("marginTop","0px"),jQuery(".vid-thumb-sm-l").removeClass("vid-thumb-sm-l").css("marginTop","0px"),jQuery(".vid-thumb-sm-r").removeClass("vid-thumb-sm-r").css("marginTop","0px"),jQuery(".vid-thumb-clear").removeClass("vid-thumb-clear").css("marginTop","0px")}function d(n){for(var u=window.location.search.substring(1),r=u.split("&"),i,t=0;t<r.length;t++)if(i=r[t].split("="),i[0]==n)return i[1];return!1}var n="phone",i=parseInt(jQuery("#hidPageNumber").val()),s=parseInt(jQuery("#hidPageSize").val()),it=jQuery("#hidStudioID").val(),tt=jQuery("#hidDefaultCat").val(),nt=jQuery("#hidDestinationURL").val(),g=jQuery("#hidDestinationID").val(),k=jQuery("#hidDetailPage").val(),w=tt,f=!0,e,r,b,y,c,u;if(jQuery("#vid-search").length>0&&jQuery("#vid-search").keypress(function(n){if(n.which==13)return jQuery("#vid-loading").show(),jQuery(".vid-list").empty(),w=jQuery("#vid-search").val(),i=0,o(),!1}),jQuery("#hidCats").length>0)for(e=jQuery("#hidCats").val().split(","),r=0;r<e.length;r++)b='<option value="'+e[r].trim()+'">'+e[r].trim()+"</option>",jQuery("#vid-cats").append(b);jQuery("#vid-cats").length>0&&jQuery("#vid-cats").dropkick({mobile:!0,change:function(){jQuery("#vid-loading").show(),jQuery(".vid-list").empty(),i=0,o()}}),jQuery(".vid-side-list").length>0&&(y=jQuery("#vid-detail-pg"),c=jQuery(".vid-side-list").outerHeight(),c>y.height()&&y.height(c)),u=d("tag"),u&&(w=decodeURI(u),jQuery("#vid-search").val(decodeURI(u))),o(),jQuery(window).scroll(function(){var r,t,n;jQuery(".vid-thumb").length>0&&(r=jQuery(window).scrollTop()+jQuery(window).height(),t=jQuery(".vid-thumb").length,i=Math.ceil(t/s),jQuery(".vid-thumb:nth-child("+s*i+")").length>0&&(n=jQuery(".vid-thumb:nth-child("+s*i+")").offset(),r>n.top&&!f&&(f=!0,jQuery("#vid-loading").show(),o())))}),jQuery(window).resize(function(){h()}),window.matchMedia?(enquire.register("screen and (min-width:1301px)",function(){t(),l(),n="desktop-lg"},!0),enquire.register("screen and (min-width: 901px) and (max-width: 1300px)",function(){t(),a(),n="desktop-sm"}),enquire.register("screen and (min-width: 821px) and (max-width: 900px)",function(){t(),v(),n="tablet"}),enquire.register("screen and (max-width: 820px)",function(){t(),p(),n="phone"})):(matchMedia("only screen and (min-width: 1301px)").matches&&(t(),l(),n="desktop-lg"),matchMedia("only screen and (min-width: 901px) and (max-width: 1300px)").matches&&(t(),a(),n="desktop-sm"),matchMedia("only screen and (min-width: 821px) and (max-width: 900px)").matches&&(t(),v(),n="tablet"),matchMedia("only screen and (max-width: 820px)").matches&&(t(),p(),n="phone")),h()})