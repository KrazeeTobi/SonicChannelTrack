!function(e,t,s){class n{constructor(e){this.setDomElements(e);let t=new l(this.el.host,"l-header");t.replace().then(this.setupLHeader.bind(this))}setDomElements(e){this.el={},this.el.host=e}setupLHeader(){e.lHeaderDropDown(),e.lHeaderHamburger()}}class l{constructor(e,t){this.fragmentClassname=t,this.loadFilepath=s.assetsDir+"/fragment/"+t+"_"+s.lang+".html",this.setDomElements(e)}setDomElements(e){this.el={},this.el.host=e,this.el.targetContents=s.toArray(this.el.host.querySelectorAll("[data-phase-content]"))}replace(){return s.fetchHtml(this.loadFilepath,{dt:s.nowHour},"GET").then(this.replacePhaseContents.bind(this)).catch(function(){return Promise.resolve()})}replacePhaseContents(e){let t=e.querySelector("."+this.fragmentClassname);return null===t||this.el.targetContents.forEach(function(e){let s=e.getAttribute("data-phase-content"),n=t.querySelector('[data-phase-content="'+s+'"]');if(null===n)return null;e.replaceWith(n)},this),Promise.resolve()}}new class e{constructor(){this.setEventHandlers()}setDomElements(){this.el={},this.el.root=t.documentElement,this.el.lHeader=t.querySelector(".l-header")}setEventHandlers(){t.addEventListener("DOMContentLoaded",this.document_onDOMContentLoaded.bind(this))}document_onDOMContentLoaded(){this.main()}main(){this.setDomElements(),this.setLang(),this.setNow(),this.setupLHeader()}setLang(){let e=this.el.root.getAttribute("lang");"ja"===e||"en"===e?s.lang=e:e.startsWith("zh")?s.lang="cn":s.lang="ja"}setNow(){let e=s.padder("0",2),t=new Date,n=t.getFullYear(),l=e(t.getMonth()+1),a=e(t.getDate()),o=e(t.getHours()),r=e(t.getMinutes()),h=e(t.getSeconds());s.nowTimestamp=t.getTime(),s.nowTime=[n,l,a,o,r,h].join(""),s.nowHour=[n,l,a,o].join("")}setupLHeader(){null!==this.el.lHeader&&(this.lHeader=new n(this.el.lHeader))}}}(window,document,tgsUtils);
