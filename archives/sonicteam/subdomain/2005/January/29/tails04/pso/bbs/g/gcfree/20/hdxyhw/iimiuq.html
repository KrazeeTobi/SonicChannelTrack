<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=x-sjis">
<title>
[追加2]ルータのログからポートの使用状況を...</title>
<meta name="description" content="このページは KY-VIEW megalopolis で作成した掲示板ログです.そのため,常に内容が変化したり,削除したりします. http://kyprj.yokobori.net/">
<style type="text/css">
<!--
 a.li { text-decoration:none; }
 a.li:hover { color:#FFFFFF;text-decoration:underline; }
 pre { font-size: small;letter-spacing:normal;font-family:"ＭＳ Ｐゴシック","Osaka",sans-serif;}
 tt { line-height:90%;font-size:medium;}
-->
</style>
<script language="javascript">
<!--
var d = new Date();
tl=d.getTime()/1000;
function g(v)
{
	if(v > tl - 86400)
	{
		return "color=\"#FFFFFF\"";
	}
	return "color=\"#FFFFFF\"";
}
//-->
</script>
</head>
<a name="tree_top"></a>
<!--- 掲示板の色や背景の設定 --->
<body background="/pso/bbs/img/pso_bk1.png" bgcolor="#000040" text="#FFFFFF" link="#99CCFF" vlink="#CCCCCC">

<!--- 新規発言・EXIT・INDEX表示 --->
<div align="right">
<a href="http://tails04.sonicteam.com/cgi-bin/pso/bbs/kyview.cgi?k=b&dir=gcfree">新しく発言する</a> 
<a href="http://www.sonicteam.com/psogc/" target="_top">EXIT</a> 
<a href="http://tails04.sonicteam.com/pso/bbs/g/gcfree/20/index.html">インデックスへ</a>
</div>

<!--- 記事タイトル --->
<font size="+2" color="#FFFFFF">使用ポート番号</font><BR>
<hr>
<pre>　　<tt></tt><a class="li" href="http://tails04.sonicteam.com/pso/bbs/g/gcfree/20/hdxyhw/hdxyhw.html#hdxyhw">使用ポート番号</a> Hiro <small><font id="0" &{g(1033666968)};>2002/10/04 02:42:48  (修正1回)</font></small>
　　<tt>├</tt><a class="li" href="http://tails04.sonicteam.com/pso/bbs/g/gcfree/20/hdxyhw/kcujhc.html#kcujhc">つながらないを理由をみつけよう</a> やまと <small><font id="1" &{g(1033668968)};>2002/10/04 03:16:08 </font></small>
　　<tt>│└</tt><a class="li" href="http://tails04.sonicteam.com/pso/bbs/g/gcfree/20/hdxyhw/monzrt.html#monzrt">個人的には</a> hotaru <small><font id="2" &{g(1033670625)};>2002/10/04 03:43:45 </font></small>
　　<tt>│　└</tt><a class="li" href="http://tails04.sonicteam.com/pso/bbs/g/gcfree/20/hdxyhw/dihkxm.html#dihkxm">トライアルでBbAの検証ができなかったからw</a> Resta@BR <small><font id="3" &{g(1033699531)};>2002/10/04 11:45:31 </font></small>
　　<tt>└</tt><font color="#FFFFFF">[追加2]ルータのログからポートの使用状況を...</font> kenshou <small>2002/10/04 12:41:56  (修正2回)</small></pre><a name="iimiuq"></a><p>
<table width="100%" border="0">
<tr bgcolor="#004080"><td width="100%"><strong><strong>Re: <a href="http://tails04.sonicteam.com/pso/bbs/g/gcfree/20/hdxyhw/hdxyhw.html#hdxyhw">使用ポート番号</a></strong></strong></td>
<td align="right" width="1%" nowrap><a href="http://tails04.sonicteam.com/cgi-bin/pso/bbs/kyview.cgi?k=a&dir=gcfree&pg=20&id=iimiuq&id2=hdxyhw">返事を書く</a> <a href="http://tails04.sonicteam.com/cgi-bin/pso/bbs/kyview.cgi?k=m&dir=gcfree&id=iimiuq&id2=hdxyhw&pg=20">ノートメニュー</a><br></td></tr>
<tr bgcolor="#004080"><td colspan="2"><strong><a href="http://www.oct.zaq.ne.jp/kenshou/" target="_blank">kenshou</a></strong> <small>&lt;gptywyxbdd&gt;</small> <i>2002/10/04 12:41:56</i>  ** この記事は2回修正されてます</td></tr>
<tr bgcolor="#000040"><td colspan="2">[追加2]ルータのログからポートの使用状況を推測<BR><BR># ポート番号はGCPSO発売前からDreamDirectにありました<BR># GCPSO公式サポートページにも書いてあります<BR><a href="http://www.sonicteam.com/psogc/pc/faq_n_bba.html" target="_blank">http://www.sonicteam.com/psogc/pc/faq_n_bba.html</a><BR><BR>以下、単なる推測であることに注意<BR><BR>TCP:9000-10000<BR>PSOサーバのこれらのポート宛に接続します<BR>ブロックやロビーの番号でポートが変わるようです<BR>これらに向けての発信を制限するとゲームできないでしょう<BR><BR>尚、ゲーム中はこれらポートでPSOサーバと通信します<BR><BR>UDP:40975,41231,41487,41743<BR>ロビーでは使いません<BR>シティ以降で、参加者全員が「UDPを使用する(以下UDP ON)」で使用<BR>参加者の１人でも「UDPを使わない(以下UDP OFF)」だと使いません<BR><BR>UDP ONは、DC版と同じく<BR>・モデム：UDP自動、使用する<BR>・ＢＢＡ：UDP使用する<BR>の模様<BR><BR>部屋に入った順番で、若いポート番号を使い、参加者同士で通信します<BR><BR>TCPが一回ごとに返事を待つのに対して、UDPは返事を必要としない＆<BR>PSOサーバを中継に使わないので、通信コストが低減します<BR><BR>余談<BR>PPPoEなモデム直結での動作不良はブラックホールにはまってるのかも<BR>ちょっち実験してみよう<BR><BR>で、実験してみましたが、見当はずれなので伏せます<BR><BR><font color=black><BR><BR>PPPoEサーバは、一から勉強しないといけないので、面倒なので<BR><BR>CATV-(A)ルータ(B)-GC　の(A)のMTUを変化させました<BR><BR>MTU=72まで落としたのですが(少々動きがもたつきましたが)支障無し<BR>PCの方は、ページが見れない等の症状が、ちゃんと、出ました<BR><BR>さらに、pingも<BR>「ping hogehoge -f -l 44」でOK<BR>「ping hogehoge -f -l 45」でNG　を確認<BR><BR>GC版PSOは自分でMTUのチェックしてたりするのかな？<BR>もしかすると、MTU変更不可のルータでも、DC版と違って大丈夫かも<BR><BR>と言うわけで、やはりブラックホールに引っかかったとか(^_^;<BR><a href="http://www.google.com/search?&q=%83u%83%89%83b%83N%83z%81%5B%83%8B+MTU" target="_blank">http://www.google.com/search?&q=%83u%83%89%83b%83N%83z%81%5B%83%8B+MTU</a><BR><BR>「ping www.isao.net -f -l 1426」やってみて<BR>「Packet needs to be fragmented but DF set.」<BR>「Request timed out.」<BR>が出たら、当たりかも<BR><BR>こっそり追加２<BR>GC版PSOは接続時にSACKと言う機能を有効にしています<BR>コレのおかげで、破損したパケットを指摘できます<BR>この機能によってMTU問題はパスしてそう<BR><BR>ブラックホールにはまる危険性は否定し切れませんけどね<BR></font><BR><BR>と思ったけれど、何時間も大丈夫で急に落ちたって話もあるし<BR>同じ条件でも、落ちる場合と落ちない場合があるようだし<BR><BR>「外来性のノイズによるADSLの通信の乱れ」の線が濃厚かな<BR>ルータを使うと、通信相手はルータになるので<BR><BR>直結の場合の<BR>「突然リンク途絶でADSLモデムが沈黙−＞GCがパニック」<BR>が<BR>「突然リンク途絶でADSLモデムが沈黙−＞ルータはじっと待つ」<BR>「ルータ-GC間の通信は正常なので、PSOは単なる切断になる」<BR>って感じかな？<BR><BR>と、言っている間にソニチが動いたようです<BR>期待しましょう</td></tr>
</table>
</p>
</pre><!--- EXIT・INDEX表示 --->
<hr>

<a href="http://tails04.sonicteam.com/pso/bbs/g/gcfree/20/index.html">インデックスへ</a> 
<a href="http://www.sonicteam.com/psogc/" target="_top">EXIT</a><BR>
<small>新規発言を反映させるにはブラウザの更新ボタンを押してください。</small>
</body>
<script language="javascript">
<!--
var d = new Date();
tl=d.getTime()/1000;
if(document.all)
{
var ttl = new Array();
ttl[0] = 1033666968
ttl[1] = 1033668968
ttl[2] = 1033670625
ttl[3] = 1033699531
ttl[4] = 1033702916
	for(i=0;i<5;i++)
	{
		if(ttl[i] > tl - 86400 && document.all.item(i.toString(10)))
		{
			document.all.item(i.toString(10)).style.color="#FFFFFF";
		}
	}
}
//-->
</script>
</html>
