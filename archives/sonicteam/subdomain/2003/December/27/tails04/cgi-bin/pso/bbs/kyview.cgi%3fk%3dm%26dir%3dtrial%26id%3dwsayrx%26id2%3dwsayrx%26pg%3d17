<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=x-sjis">
<title>『ファンタシースターオンライン エピソード１＆２』トライアルBBS</title>
</head>
<body background="http://tails04.sonicteam.com/pso/bbs/img/pso_bk1.png" bgcolor="#000040" text="#FFFFFF" link="#99CCFF" vlink="#CCCCCC">
<div align="right">
<a href="http://tails04.sonicteam.com/pso/bbs/t/trial/17/index.html">インデックスへ</a> 
</div>
<BR></div>
<font size="+2" color="#ffffff">NOTE MENU</font><BR>
<hr>
<p>まずは必要な情報を入力します。
<form action="submit.cgi" method="post">
<input type="hidden" name="sw" value=".frm">
<input type="hidden" name="dir" value="trial">
<input type="hidden" name="id" value="wsayrx">
<input type="hidden" name="id2" value="wsayrx">
<input type="hidden" name="pg" value="17">
<table border="0">
<tr>
<td>名前:</td>
<td><input type="text" name="name" size="40" maxlength="40" value=""></td>
</tr>

<tr>
<td>メールアドレス:</td>
<td><input type="text" name="mail" size="40" maxlength="40" value=""></td>
</tr><tr><td>確認キー :</td>
<td><input type="text" name="ckey" size="6" maxlength="6" value=""> 
<input type="submit" name="ck" value="MAKE KEY"> 確認キー作成</td>
</tr>
<tr><td>シリアルナンバー :</td>
<td>
<input type="text" name="serial1" size="2" maxlength="2" value="">
<input type="text" name="serial2" size="4" maxlength="4" value="">
<input type="text" name="serial3" size="4" maxlength="4" value="">
</td>
</tr>

<tr>
<td>URL:</td>
<td><input type="text" name="url" size="40" maxlength="100" value="http://"></td>
</tr>
<tr>
<td colspan="2">
</td>
</tr>
<tr>
<td colspan="2">
<input type="checkbox" name="set" value="on" >
 以後ステータス情報をブラウザに保存する(cookie)
</td>
</tr>
</table>
<input type="hidden" name="cookierev" value="ok">
<p><small>
<ul>
<li>発言時に確認キーが必要です。発言する前に確認キーの発行を受けてください。</li>
</ul>
</small></p>

</p>
<hr>
<font size="+1" color="#ffffff">メールを送る</font><BR>
発言者に対してメールを送ります。
<p>
メールメッセージ ：<BR>
<textarea name="mtext" cols="60" rows="6" wrap="virtual"></textarea><BR>
<input type="submit" name="c" value="SEND FMAIL"> メール送信<BR>
</p>
<hr>
<font size="+1" color="#ffffff">発言の修正</font>
<p>
ノートの内容 ：<BR>
<textarea name="text" cols="60" rows="6" wrap="virtual" >皆さんのご意見を参考に、考えをもう一度よく整理して、まとめてみました。
今度こそ、今度こそ、これなら実現できそうです。
これで一連のこの議論に終止符が打てれば・・・と思います。
長文です。

--

まず、オフラインでのアイテム交換を実現するには以下のような仕様にします。

1.「オフラインでのアイテム交換は自由にできる」ようにします。
　（マルチモード中で可能にしてもいいですし、交換専用のメニューを用意し
　てもどちらでもいいと思います。）
　ただし、「オンラインをしない人（そのメモリーカードにオンライン接続情
　報が無い）」から「オンラインをする人（そのメモリーカードにオンライン
　接続情報がある）」へは、アイテムをわたせません。
　これを「大前提」とします。
2.「オンラインをする人同士」「オンラインをしない人同士」のアイテム交換
　は自由にできます。もちろん自分自身の複数の別メモリーカード間でのアイ
　テム交換も自由です。
　また「オンラインをする人」から「オンラインをしない人」へは、アイテム
　をプレゼントできます。
3.「オンラインをしない人」は、アイテム交換をした時点で、交換した結果が
　即アイテム一覧に反映し、もらったアイテムは使用可能となります。
4.「オンラインをする人」は、オフラインで「他のメモリーカードと」アイテ
　ム交換をした場合は、その履歴（だれのどのメモリーカードから、だれのど
　のメモリーカードへ、何を）の情報がメモリーカードに記録されます。（同
　一メモリーカード内でのキャラ間のアイテム交換は、不正につながらないの
　で履歴の記録は不要。）
　「渡した側」は、アイテムをわたした時点でアイテムが手元から消えます。
　「受け取った側」は、アイテムは手元の一覧に加わるのですが、この時点で
　は「使用不可・床に置けない・アイテム交換できない」状態になっています
　（「破棄」だけは可能）。
5.オフラインでのアイテム交換後、その交換したメモリーカードのキャラで初
　オンラインをしたときに、4.でメモリーカードに記録した交換履歴がサーバー
　にコピーされます。既にサーバーに交換履歴があった場合は、交換の整合性
　が保たれているかどうかを確認しんます。（この時点でメモリーカードから
　は履歴削除してよいです。）
　「渡した側」がオンラインをした後でないと、4.の「受けとった側」のアイ
　テムは、整合性が確認できないのでいつまでも「使用不可・床に置けない・
　アイテム交換できない」ままとなります（「破棄」だけは可能）。
　「渡した側」と「受けとった側」の両方の情報の整合性が取れた時に、初め
　て、4. の「受けとった側」のアイテムが、普通に使用可能となります。
　整合が確認できれば、その履歴はサーバーから削除されます。
　整合が確認できなければ、そのアイテムはいつまでも「使用不可」のままと
　なり、「破棄」しか選べなくなります。（ロストさせる必要は無い。）
6.メモリーカードには、個別にオンラインアクセス情報を記録し、接続する都
　度サーバー側の情報を照合します。これにより、複製した不正メモリーカー
　ドを使ってのオンラインを禁止します（ＤＣ版のＶＭのときと同様の仕組み）。

という感じでしょうか。

--

もしもこの方法が実現されるとどうなるかというと、

A.誰でも、一人でオフラインでアイテム移動ができる（複数の別メモリーカード
　のキャラ間でも自由に可能。
B.「オンラインをする人同士」「オンラインをしない人同士」でも、自由にアイ
　テム交換が可能。
C.「オンラインをする人」から「オンラインをしない人」へアイテムをプレゼン
　ト可能
C.オフラインで複製したアイテムをオンラインに持ち込むことを防げる。

となりそうですね。これならもう、ほとんど全て人が「満足」できそうですよね。

--

この方法に問題があるとすれば、

a.オンラインをしない人同士でのアイテム交換では、メモリーカード複製による
　アイテム複製が可能となってしまう
b.オンラインをしない人が、オンラインをする人にアイテムをわたせない。
c.アイテム交換後、「渡した側」「受けとった側」両方が一度でもオンラインを
　しないと、「受けとった側」の受け取ったアイテムは使用できない。
d.大量に交換した場合に履歴が肥大化する場合があり、それにも完全に対応
　しておく必要がある。

以上４点だけかと思います。

a. は、一見すると深刻な問題に思えます。
しかしながら、ちょっと考えてみれば、「オンラインをしない人同士が、オフラ
インで出たアイテムのみを複製したところで、どうなるか」といえば、実は大し
た事にならないのです。そもそも、オンラインをしないユーザーがメモリーカー
ド複製までしてアイテム複製をしたところで、たかが知れています。せいぜい友
人同士の交換ですから、複製とはいっても数個で終わりでしょう。オンラインで
無制限に配布されるのとは大きく異なります。そもそも、複製するためのハード
なりを入手できるかも疑問です。
そのようなわけで、あまり問題視することもないでしょう。

b. については、「オンラインをできるひとは、オンラインでも入手するチャンス
がある」ということで、見逃してもらっても良さそうです。
また、「オンラインができる人」が、「オンラインができない人」に、オンライ
ンクエストの景品等をプレゼントすることは可能ですから、これもあまり問題視
することもないでしょう。

c.は、不正防止のためにはやむを得ないでしょう。従来はオンラインでしかアイ
テム交換ができなかったわけですから、それに比べれば、「オフラインでゆっく
りアイテム整理した後、ちょっと一度オンラインに繋ぐだけでＯＫ」なのですか
ら、むしろ大幅な進歩なはずです。

d. については、これはもうソニックチーム様にがんばっていただくしかないです
ね(^^;。ただし、履歴といっても「他メモリーカード間の移動」だけで良いので
すから、たかが知れているように思います。数百も記録できれば十分ではないで
しょうか。もしもそれを超える時は、「一度オンラインに接続してください」と
してアイテム移動を中断させればよさそうです。

あと、さらにセキュリティを強化するためには、「全アイテムに個別シリアルを
付ける」という仕組みも欲しいところです。「ユーザーシリアルナンバー ＋ 出
現キャラ名 ＋ 出現時刻」等でアイテムに個別シリアルを付けるようにすれば、
「同じシリアルのアイテムが存在してはいけない」ことになるので、複製が検出
できます。これは、サーバーに頼らずゲームプログラム中でも、メモリーカード
内の全アイテムをスキャンするだけでいつでも検出可能になりますね。
今後の更なる不正対策にも応用できそうです。

--

長くなりましたが、このように「大きな不正に繋がらないものは目をつぶる」か
つ「オンラインをする人は、オンラインでの照合を必須とする」ことで、オフラ
インでのアイテム移動がかなり現実的に可能になりそうです。

ソニックチーム様も現在、頭を痛めている最中かとは思いますが、多少なりとも
ご参考にしていただければ幸いです。開発、がんばってください。
（投稿もしておきます。）</textarea><BR>
<input type="submit" name="c" value="REVISE"> 発言修正
</p>
<hr>
<font size="+1" color="#ffffff">発言の削除</font>
<p><input type="submit" name="c" value="DELETE"> 発言削除</p>
</form>
</body>
</html>
